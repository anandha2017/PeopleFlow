version: 1
name: peopleflow-e2e
workflows:
  default:
    description: Run Playwright smoke tests against the configured PeopleFlow instance.
    environment:
      variables:
        PEOPLEFLOW_BASE_URL: "http://localhost:3000"
    setup:
      - run: npm install
      - run: npx playwright install --with-deps
    steps:
      - run: npm run test:e2e
    artifacts:
      - path: playwright-report
        description: HTML report generated by Playwright
      - path: test-results
        description: Raw Playwright traces and screenshots
